<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <script>
        addPixel();
        //sendAPICall();
        function getSourceURL() {
            var documentLocation = window.location.href;
            var documentTitle = document.title;
            var isMobile = 'ontouchstart' in document;
            var documentReferrer = document.referrer;
            var timeStamp = timeStamp;
            var documentEncoding = document.characterSet;
            var timezoneOffset = (new Date()).timezoneOffset;

            var sourceUrl = "http://localhost:8080/getIp?docLocation="+documentLocation
                +"&documentTitle="+documentTitle
                +"&isMobile="+isMobile
                +"&documentReferrer="+documentReferrer
                +"&timestamp="+timeStamp
                +"&documentEncoding="+documentEncoding
                +"&timezoneOffset="+timezoneOffset;

            return sourceUrl;
            
        }

        function addPixel() {
            var x = document.createElement("img");
            x.setAttribute("src", getSourceURL());
            x.setAttribute("width", "1");
            x.setAttribute("height", "1");
            document.body.appendChild(x);
        }

        // function isMobile() {
        //     return 'ontouchstart' in document
        // }

        function getURLParameter(name) {
            return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [null, ''])[1].replace(/\+/g, '%20')) || null;
        }

    </script>
</body>
</html>
